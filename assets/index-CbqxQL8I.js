var G=Object.defineProperty;var J=(t,s,i)=>s in t?G(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i;var C=(t,s,i)=>J(t,typeof s!="symbol"?s+"":s,i);import{j as e,r as b,$ as q,a0 as V,a1 as H,a2 as X,a3 as Z,a4 as K,a5 as D,a6 as Y,a7 as _,a8 as T,a9 as Q,aa as ee,ab as te,ac as ie,ad as ne,ae as $,af as R,ag as se,ah as ae,ai as oe,aj as le,ak as P,al as re,am as ce,an as de,ao as ue,ap as pe,R as E,aq as xe,ar as he,as as me,at as ge,au as je,av as fe,aw as be,ax as ye,ay as ke,az as N,aA as L,aB as A,aC as ve,aD as we,aE as Se,aF as Ce,aG as Ne,aH as Ie,aI as ze}from"./vendor-BUjPADYz.js";import{S as Pe,R as Me,H as Re,c as U,A as Ee,t as F,u as O,D as De,a as Te,b as Le,d as Ae,e as Ue,f as Be,T as He}from"./tldraw-BGKQIMnY.js";import{u as $e,S as Fe,T as Oe,C as We,a as Ge,E as Je}from"./tiptap-DuYfd7f2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();class W extends Pe{constructor(){super(...arguments);C(this,"canResize",()=>!0)}getDefaultProps(){return{w:350,h:400,text:"<h2>Novo Card</h2><p>Digite aqui...</p>"}}getGeometry(i){return new Me({width:i.props.w,height:i.props.h,isFilled:!0})}onResize(i,o){return{props:{w:Math.max(200,o.initialShape.props.w*o.scaleX),h:Math.max(150,o.initialShape.props.h*o.scaleY)}}}component(i){const o=n=>{this.editor.updateShape({id:i.id,type:"obsidian-note",props:{text:n}})};return e.jsx(Re,{style:{pointerEvents:"all"},children:e.jsx(qe,{id:i.id,text:i.props.text,onUpdate:o})})}indicator(i){return e.jsx("rect",{width:i.props.w,height:i.props.h})}}C(W,"type","obsidian-note");const qe=({id:t,text:s,onUpdate:i})=>{const o=$e({extensions:[Fe,Oe,We,Ge.configure({types:["heading","paragraph"]})],content:s,onUpdate:({editor:n})=>i(n.getHTML()),editorProps:{attributes:{class:"prose prose-invert",style:"height: 100%; color: #f4f4f5; outline: none; font-family: Inter, sans-serif; line-height: 1.6;"}}});return b.useEffect(()=>{if(!o)return;const n=r=>{if(r.detail.id!==t)return;const{action:l,value:d}=r.detail,c=o.chain().focus();switch(l){case"bold":c.toggleBold().run();break;case"italic":c.toggleItalic().run();break;case"h1":c.toggleHeading({level:1}).run();break;case"h2":c.toggleHeading({level:2}).run();break;case"list":c.toggleBulletList().run();break;case"align":c.setTextAlign(d).run();break;case"color":c.setColor(d).run();break;case"emoji":c.insertContent(d).run();break}};return window.addEventListener("jiuk-editor-action",n),()=>window.removeEventListener("jiuk-editor-action",n)},[o,t]),o?e.jsxs("div",{className:"obsidian-card",style:{width:"100%",height:"100%"},children:[e.jsxs("div",{className:"obsidian-header",children:[e.jsx("div",{className:"circle-btn",style:{background:"#a855f7",boxShadow:"0 0 8px rgba(168, 85, 247, 0.4)"}}),e.jsx("div",{className:"circle-btn",style:{background:"#fb7185"}}),e.jsx("div",{className:"circle-btn",style:{background:"#fde047"}}),e.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#a1a1aa",fontWeight:600,letterSpacing:"0.02em"},children:"Jiukisidian Note"})]}),e.jsx("div",{style:{flex:1,padding:"16px",overflowY:"auto",cursor:"text"},onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),children:e.jsx(Je,{editor:o})})]}):null},f={exportCanvas:async(t,s)=>{const i=t.getSelectedShapeIds(),o=i.length>0?i:Array.from(t.getCurrentPageShapeIds());if(o.length!==0)try{if(s==="json"){const d=t.getSnapshot(),c=JSON.stringify(d,null,2),p=new Blob([c],{type:"application/json"});M(p,"jiukisidian-project.json");return}const n=await t.getSvg(o,{scale:2,background:!0});if(!n)throw new Error("Falha ao gerar SVG");if(s==="pdf"){alert("ExportaÃ§Ã£o direta para PDF requer biblioteca externa. Exportando como PNG.");const d=await B(n,"image/png");d&&M(d,"jiukisidian-export.png");return}const l=await B(n,s==="jpg"?"image/jpeg":"image/png");l&&M(l,`jiukisidian-export.${s}`)}catch(n){console.error(n),alert("NÃ£o foi possÃ­vel exportar o arquivo.")}},handleImageUpload:(t,s)=>{if(!s)return;if(!s.type.startsWith("image/")){alert("Por favor, selecione apenas arquivos de imagem.");return}const i=new FileReader;i.onload=async()=>{const o=Ee.createId(),n=U(),r=t.getViewportScreenCenter(),l=new Image;l.src=i.result,l.onload=()=>{t.createAssets([{id:o,typeName:"asset",type:"image",props:{name:s.name,src:i.result,w:l.width,h:l.height,mimeType:s.type,isAnimated:!1},meta:{}}]),t.createShape({id:n,type:"image",x:r.x-l.width/2,y:r.y-l.height/2,props:{assetId:o,w:l.width,h:l.height}})}},i.readAsDataURL(s)},setTheme:(t,s)=>{const i=s==="light"?"light":"dark";t.user.updateUserPreferences({colorScheme:i}),document.body.setAttribute("data-theme",s),s==="jiuk"?document.documentElement.style.setProperty("--primary","#a855f7"):s==="dark"&&document.documentElement.style.setProperty("--primary","#3b82f6")},setUiScale:t=>{document.documentElement.style.setProperty("--ui-icon-size",`${t}px`)},toggleReducedMotion:t=>{const i=t.user.getAnimationSpeed()===0?1:0;return t.user.updateUserPreferences({animationSpeed:i}),i===0},toggleGrid:t=>{const s=t.getInstanceState().isGridMode;t.updateInstanceState({isGridMode:!s})},toggleHighContrast:()=>{document.body.classList.toggle("high-contrast")},createJiukNote:t=>{const s=t.getViewportScreenCenter(),i=(Math.random()-.5)*20;t.createShape({id:U(),type:"obsidian-note",x:s.x-175+i,y:s.y-200+i,props:{w:350,h:400}})}};function M(t,s){const i=URL.createObjectURL(t),o=document.createElement("a");o.href=i,o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}function B(t,s){return new Promise(i=>{const o=new XMLSerializer().serializeToString(t),r=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(o)))}`,l=new Image;l.onload=()=>{const d=document.createElement("canvas");d.width=l.width,d.height=l.height;const c=d.getContext("2d");if(!c)return i(null);s==="image/jpeg"&&(c.fillStyle="#ffffff",c.fillRect(0,0,d.width,d.height)),c.drawImage(l,0,0),d.toBlob(p=>i(p),s)},l.src=r})}const Ve="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cradialGradient%20id='bg-gradient'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(256%20256)%20rotate(90)%20scale(512)'%3e%3cstop%20stop-color='%232e1065'%20/%3e%3cstop%20offset='1'%20stop-color='%2309090b'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='jiuk-gradient'%20x1='80'%20y1='120'%20x2='320'%20y2='420'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23a855f7'%20/%3e%3cstop%20offset='50%25'%20stop-color='%23d946ef'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23fb7185'%20/%3e%3c/linearGradient%3e%3cfilter%20id='glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeGaussianBlur%20stdDeviation='20'%20result='blur'%20/%3e%3cfeComposite%20in='SourceGraphic'%20in2='blur'%20operator='over'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20width='512'%20height='512'%20rx='120'%20fill='url(%23bg-gradient)'%20/%3e%3cg%20stroke='%23a855f7'%20stroke-width='4'%20opacity='0.2'%20stroke-linecap='round'%3e%3cline%20x1='320'%20y1='120'%20x2='420'%20y2='80'%20/%3e%3cline%20x1='320'%20y1='220'%20x2='400'%20y2='220'%20/%3e%3ccircle%20cx='420'%20cy='80'%20r='6'%20fill='%23a855f7'%20/%3e%3c/g%3e%3cpath%20d='M320%20120%20V300%20C320%20366.274%20266.274%20420%20200%20420%20C133.726%20420%2080%20366.274%2080%20300'%20stroke='url(%23jiuk-gradient)'%20stroke-width='60'%20stroke-linecap='round'%20stroke-linejoin='round'%20filter='url(%23glow)'%20/%3e%3ccircle%20cx='320'%20cy='120'%20r='32'%20fill='%23fde047'%20filter='url(%23glow)'/%3e%3ccircle%20cx='200'%20cy='420'%20r='24'%20fill='%23fb7185'%20/%3e%3c/svg%3e",Xe=F(()=>{const t=O(),s=b.useRef(null),[i,o]=b.useState(!1),[n,r]=b.useState(null),[l,d]=b.useState(32),c=t.getCurrentToolId();b.useEffect(()=>{f.setUiScale(l)},[l]),b.useEffect(()=>{var g;const x=()=>{o(!1),r(null)};return(g=document.querySelector(".tl-canvas"))==null||g.addEventListener("pointerdown",x),()=>{var j;return(j=document.querySelector(".tl-canvas"))==null?void 0:j.removeEventListener("pointerdown",x)}},[]);const p=x=>t.setCurrentTool(x),I=()=>e.jsxs("div",{style:{position:"relative",height:"100%",display:"flex",alignItems:"center"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e.jsx("button",{className:`jiuk-icon-btn ${i?"active":""}`,title:"Menu Principal",style:{padding:4},children:e.jsx("img",{src:Ve,alt:"Jiukisidian Logo",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"6px",filter:c==="select"?"none":"grayscale(0.5)"}})}),i&&e.jsxs("div",{className:"jiuk-dropdown-menu",children:[e.jsx("div",{className:"jiuk-menu-label",children:"Exportar"}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>f.exportCanvas(t,"png"),children:[e.jsx(P,{size:18})," PNG"]}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>f.exportCanvas(t,"pdf"),children:[e.jsx(P,{size:18})," PDF"]}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>f.exportCanvas(t,"json"),children:[e.jsx(P,{size:18})," JSON"]}),e.jsx("div",{className:"jiuk-menu-label",children:"AparÃªncia"}),e.jsxs("div",{style:{display:"flex",padding:"0 12px",gap:4},children:[e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center"},title:"Claro",onClick:()=>f.setTheme(t,"light"),children:e.jsx(re,{size:18})}),e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center"},title:"Escuro",onClick:()=>f.setTheme(t,"dark"),children:e.jsx(ce,{size:18})}),e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center",color:"#a855f7"},title:"Jiuk Mode",onClick:()=>f.setTheme(t,"jiuk"),children:e.jsx(de,{size:18})})]}),e.jsx("div",{className:"jiuk-menu-label",children:"Tamanho UI"}),e.jsxs("div",{style:{display:"flex",padding:"0 12px",gap:4},children:[e.jsx("button",{className:`jiuk-menu-item ${l===24?"active":""}`,style:{justifyContent:"center"},onClick:()=>d(24),children:"P"}),e.jsx("button",{className:`jiuk-menu-item ${l===28?"active":""}`,style:{justifyContent:"center"},onClick:()=>d(28),children:"M"}),e.jsx("button",{className:`jiuk-menu-item ${l===32?"active":""}`,style:{justifyContent:"center"},onClick:()=>d(32),children:"G"})]}),e.jsx("div",{className:"jiuk-separator",style:{width:"100%",height:"1px",margin:"4px 0"}}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>window.open("https://ko-fi.com/jiuk","_blank"),children:[e.jsx(ue,{size:18,color:"#fb7185"})," Apoiar o Projeto"]})]})]}),h=({id:x,icon:g,tools:j})=>{const v=c===x||j.some(m=>m.id===c),y=j.find(m=>m.id===c),z=y?y.icon:g;return e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",height:"100%"},onMouseEnter:()=>r(x),onMouseLeave:()=>r(null),children:[e.jsxs("div",{style:{display:"flex",height:"100%",alignItems:"center"},children:[e.jsx("button",{className:`jiuk-icon-btn ${v?"active":""}`,style:{borderRadius:"10px 0 0 10px",paddingRight:4,width:"auto",minWidth:"calc(var(--ui-icon-size) + 12px)",borderRight:"none"},onClick:()=>p(y?y.id:j[0].id),title:x,children:z}),e.jsx("div",{className:`jiuk-icon-btn ${v?"active":""}`,style:{width:20,borderRadius:"0 10px 10px 0",borderLeft:"none",padding:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:.6},children:e.jsx(pe,{style:{width:14,height:14}})})]}),n===x&&e.jsx("div",{className:"jiuk-dropdown-menu",style:{minWidth:160},children:j.map(m=>e.jsxs("button",{className:`jiuk-menu-item ${c===m.id?"active":""}`,onClick:()=>{p(m.id),r(null)},children:[E.cloneElement(m.icon,{size:18})," ",e.jsx("span",{style:{marginLeft:8},children:m.label}),c===m.id&&e.jsx(xe,{size:16,style:{marginLeft:"auto"}})]},m.id))})]})};return e.jsxs("div",{style:{position:"absolute",top:24,left:"50%",transform:"translateX(-50%)",zIndex:300,display:"flex",gap:"16px",alignItems:"flex-start"},children:[e.jsx("input",{type:"file",ref:s,style:{display:"none"},accept:"image/*",onChange:x=>{var g;return f.handleImageUpload(t,(g=x.target.files)==null?void 0:g[0])}}),e.jsx("div",{className:"jiuk-ui-panel",children:e.jsx(I,{})}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.undo(),title:"Desfazer",children:e.jsx(q,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.redo(),title:"Refazer",children:e.jsx(V,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn danger",onClick:()=>t.deleteShapes(t.getSelectedShapeIds()),title:"Deletar",children:e.jsx(H,{})})]}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:`jiuk-icon-btn ${c==="select"?"active":""}`,onClick:()=>p("select"),title:"Selecionar (V)",children:e.jsx(X,{})}),e.jsx("button",{className:`jiuk-icon-btn ${c==="hand"?"active":""}`,onClick:()=>p("hand"),title:"Mover (H)",children:e.jsx(Z,{})}),e.jsx("button",{className:`jiuk-icon-btn ${c==="laser"?"active":""}`,onClick:()=>p("laser"),title:"Laser",children:e.jsx(K,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx(h,{id:"draw-group",icon:e.jsx(D,{}),tools:[{id:"draw",label:"Caneta",icon:e.jsx(D,{})},{id:"highlight",label:"Marca-texto",icon:e.jsx(Y,{})}]}),e.jsx("button",{className:`jiuk-icon-btn ${c==="eraser"?"active":""}`,onClick:()=>p("eraser"),title:"Borracha (E)",children:e.jsx(_,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx(h,{id:"geo-group",icon:e.jsx(T,{}),tools:[{id:"geo",label:"RetÃ¢ngulo",icon:e.jsx(T,{})},{id:"ellipse",label:"CÃ­rculo",icon:e.jsx(Q,{})},{id:"triangle",label:"TriÃ¢ngulo",icon:e.jsx(ee,{})},{id:"diamond",label:"Losango",icon:e.jsx(te,{})},{id:"star",label:"Estrela",icon:e.jsx(ie,{})}]}),e.jsx("button",{className:`jiuk-icon-btn ${c==="arrow"?"active":""}`,onClick:()=>p("arrow"),title:"Seta",children:e.jsx(ne,{})}),e.jsx("button",{className:`jiuk-icon-btn ${c==="line"?"active":""}`,onClick:()=>p("line"),title:"Linha",children:e.jsx($,{style:{transform:"rotate(-45deg)"}})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:`jiuk-icon-btn ${c==="text"?"active":""}`,onClick:()=>p("text"),title:"Texto",children:e.jsx(R,{})}),e.jsx("button",{className:`jiuk-icon-btn ${c==="note"?"active":""}`,onClick:()=>p("note"),title:"Post-it",children:e.jsx(se,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>{var x;return(x=s.current)==null?void 0:x.click()},title:"Imagem",children:e.jsx(ae,{})}),e.jsx("button",{className:`jiuk-icon-btn ${t.getCurrentToolId()==="obsidian-note"?"active":""}`,onClick:()=>f.createJiukNote(t),title:"Jiukisidian Note",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("circle",{cx:"10",cy:"13",r:"2"})]})})]}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.zoomIn(),title:"Zoom In",children:e.jsx(oe,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.zoomOut(),title:"Zoom Out",children:e.jsx(le,{})})]})]})}),Ze=F(()=>{const t=O(),s=b.useRef(null),[i,o]=b.useState(!1),n=t.getSelectedShapes(),r=n.length>0,l=n.length===1&&n[0].type==="obsidian-note",d=r&&!l&&n.some(a=>["geo","draw"].includes(a.type)),c=r&&!l&&n.some(a=>["geo","line","arrow","draw"].includes(a.type)),p=r&&!l&&n.some(a=>["text","note","geo"].includes(a.type)),I=r&&!l&&n.some(a=>["text","note","geo"].includes(a.type)),h=(a,u=null)=>{if(!l)return;const S=new CustomEvent("jiuk-editor-action",{detail:{id:n[0].id,action:a,value:u}});window.dispatchEvent(S)},x=[{name:"black",hex:"#18181b"},{name:"grey",hex:"#e0e0e0"},{name:"light-violet",hex:"#d8b4fe"},{name:"violet",hex:"#a855f7"},{name:"blue",hex:"#60a5fa"},{name:"light-green",hex:"#4ade80"},{name:"yellow",hex:"#fde047"},{name:"light-red",hex:"#fb7185"},{name:"red",hex:"#dc2626"}],g=[{name:"none",label:"Vazio"},{name:"semi",label:"Semi"},{name:"solid",label:"SÃ³lido"},{name:"pattern",label:"PadrÃ£o"}],j=[{name:"s",label:"P"},{name:"m",label:"M"},{name:"l",label:"G"},{name:"xl",label:"XG"}],v=[{name:"draw",label:"MÃ£o"},{name:"solid",label:"Reto"},{name:"dashed",label:"TraÃ§o"},{name:"dotted",label:"Ponto"}],y=[{name:"draw",label:"Draw"},{name:"sans",label:"Sans"},{name:"serif",label:"Serif"},{name:"mono",label:"Mono"}],z=[{name:"start",icon:e.jsx(N,{})},{name:"middle",icon:e.jsx(L,{})},{name:"end",icon:e.jsx(A,{})},{name:"justify",icon:e.jsx(Ce,{})}],m=["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ¤£","ðŸ˜‚","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Š","ðŸ˜‡","ðŸ¥°","ðŸ˜","ðŸ¤©","ðŸ˜˜","ðŸ˜—","ðŸ˜š","ðŸ˜™","ðŸ˜‹","ðŸ˜›","ðŸ˜œ","ðŸ¤ª","ðŸ˜","ðŸ¤‘","ðŸ¤—","ðŸ¤­","ðŸ¤«","ðŸ¤”","ðŸ¤","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ˜","ðŸ˜’","ðŸ™„","ðŸ˜¬","ðŸ¤¥","ðŸ˜Œ","ðŸ˜”","ðŸ˜ª","ðŸ¤¤","ðŸ˜´","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®","ðŸ¤§","ðŸ¥µ","ðŸ¥¶","ðŸ¥´","ðŸ˜µ","ðŸ¤¯","ðŸ¤ ","ðŸ¥³","ðŸ˜Ž","ðŸ¤“","ðŸ§","ðŸ˜•","ðŸ˜Ÿ","ðŸ™","ðŸ˜®","ðŸ˜¯","ðŸ˜²","ðŸ˜³","ðŸ¥º","ðŸ˜¦","ðŸ˜§","ðŸ˜¨","ðŸ˜°","ðŸ˜¥","ðŸ˜¢","ðŸ˜­","ðŸ˜±","ðŸ˜–","ðŸ˜£","ðŸ˜ž","ðŸ˜“","ðŸ˜©","ðŸ˜«","ðŸ¥±","ðŸ˜¤","ðŸ˜¡","ðŸ˜ ","ðŸ¤¬","ðŸ˜ˆ","ðŸ‘¿","ðŸ’€","â˜ ï¸","ðŸ’©","ðŸ¤¡","ðŸ‘¹","ðŸ‘º","ðŸ‘»","ðŸ‘½","ðŸ‘¾","ðŸ¤–","ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ–•","ðŸ‘‡","â˜ï¸","ðŸ‘","ðŸ‘Ž","âœŠ","ðŸ‘Š","ðŸ¤›","ðŸ¤œ","ðŸ‘","ðŸ™Œ","ðŸ‘","ðŸ¤²","ðŸ¤","ðŸ™","âœï¸","ðŸ’…","ðŸ¤³","ðŸ’ª","ðŸ§ ","ðŸ¦´","ðŸ‘€","ðŸ‘ï¸","ðŸ‘„","ðŸ’‹","ðŸ’˜","ðŸ’","ðŸ’–","ðŸ’—","ðŸ’“","ðŸ’ž","ðŸ’•","ðŸ’Ÿ","â£ï¸","ðŸ’”","â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ¤Ž","ðŸ–¤","ðŸ¤","ðŸ’¯","ðŸ’¢","ðŸ’¥","ðŸ’«","ðŸ’¦","ðŸ’¨","ðŸ•³ï¸","ðŸ’£","ðŸ’¬","ðŸ‘ï¸â€ðŸ—¨ï¸","ðŸ—¨ï¸","ðŸ—¯ï¸","ðŸ’­","ðŸ’¤","ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤"],k=(a,u,S)=>{S.preventDefault(),S.stopPropagation(),r?t.setStyleForSelectedShapes(a,u):t.setStyleForNextShapes(a,u)},w={width:"auto",padding:"0 8px",fontSize:"calc(var(--ui-icon-size) * 0.45)",height:"calc(var(--ui-icon-size) + 4px)",minHeight:"24px"};return e.jsx(he,{nodeRef:s,handle:".drag-handle",defaultPosition:{x:50,y:window.innerHeight-450},children:e.jsxs("div",{ref:s,className:"jiuk-ui-panel",style:{position:"absolute",zIndex:400,flexDirection:"column",alignItems:"flex-start",gap:"12px",padding:"12px",minWidth:"260px"},children:[e.jsx("div",{className:"drag-handle",style:{width:"100%",display:"flex",justifyContent:"center",cursor:"grab",paddingBottom:"8px",borderBottom:"1px solid var(--border)",marginBottom:"4px",color:"var(--text-muted)"},children:e.jsx(me,{})}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start",width:"100%"},children:[e.jsx(ge,{style:{marginTop:6,color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)",height:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[x.map(a=>e.jsx("button",{onPointerDown:u=>{l?(u.preventDefault(),h("color",a.hex)):k(De,a.name,u)},title:a.name,style:{width:"calc(var(--ui-icon-size) - 4px)",height:"calc(var(--ui-icon-size) - 4px)",borderRadius:"50%",background:a.hex,border:"2px solid var(--border)",cursor:"pointer",padding:0,transition:"transform 0.1s"}},a.name)),l&&e.jsx("div",{style:{position:"relative",width:"calc(var(--ui-icon-size) - 4px)",height:"calc(var(--ui-icon-size) - 4px)",overflow:"hidden",borderRadius:"50%",border:"2px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",background:"conic-gradient(red, yellow, green, cyan, blue, magenta, red)"},children:e.jsx("input",{type:"color",onChange:a=>h("color",a.target.value),style:{position:"absolute",opacity:0,width:"100%",height:"100%",cursor:"pointer"}})})]})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(R,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("h1"),title:"TÃ­tulo 1",children:e.jsx(je,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("h2"),title:"TÃ­tulo 2",children:e.jsx(fe,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("bold"),title:"Negrito",children:e.jsx(be,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("italic"),title:"ItÃ¡lico",children:e.jsx(ye,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("list"),title:"Lista",children:e.jsx(ke,{})})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(N,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("align","left"),children:e.jsx(N,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("align","center"),children:e.jsx(L,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("align","right"),children:e.jsx(A,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{className:`jiuk-icon-btn ${i?"active":""}`,onClick:()=>o(!i),children:e.jsx(ve,{})}),i&&e.jsx("div",{className:"jiuk-ui-panel",style:{position:"absolute",bottom:"100%",left:"-40px",marginBottom:"8px",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"4px",width:"280px",maxHeight:"260px",overflowY:"auto",zIndex:500,padding:"8px",backgroundColor:"var(--bg-surface)",border:"1px solid var(--border)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},children:m.map(a=>e.jsx("button",{className:"jiuk-icon-btn",style:{width:"100%",height:"auto",fontSize:"24px",aspectRatio:"1/1"},onClick:()=>{h("emoji",a),o(!1)},children:a},a))})]})]})]})]}),d&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(we,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:g.map(a=>e.jsx("button",{onPointerDown:u=>k(Te,a.name,u),className:"jiuk-icon-btn",style:w,children:a.label},a.name))})]}),I&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(N,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:z.map(a=>e.jsx("button",{onPointerDown:u=>k(Le,a.name,u),className:"jiuk-icon-btn",children:a.icon},a.name))})]}),c&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx($,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:v.map(a=>e.jsx("button",{onPointerDown:u=>k(Ae,a.name,u),className:"jiuk-icon-btn",style:w,children:a.label},a.name))})]}),!l&&r&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(Se,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:j.map(a=>e.jsx("button",{onPointerDown:u=>k(Ue,a.name,u),className:"jiuk-icon-btn",style:w,children:a.label},a.name))})]}),p&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(R,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:y.map(a=>e.jsx("button",{onPointerDown:u=>k(Be,a.name,u),className:"jiuk-icon-btn",style:w,children:a.label},a.name))})]})]})})}),Ke=[W],Ye={Toolbar:null,MainMenu:null,DebugMenu:null,PageMenu:null,HelpMenu:null,NavigationPanel:null,SharePanel:null,Minimap:null,StylePanel:null,QuickActions:null,ZoomMenu:null},_e={maxPages:20};class Qe extends E.Component{constructor(i){super(i);C(this,"handleHardReset",()=>{localStorage.clear(),sessionStorage.clear(),window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,o){console.error("Jiukisidian Crash:",i,o),this.setState({errorInfo:o})}render(){var i,o,n;return this.state.hasError?e.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"#09090b",color:"#f4f4f5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"Inter, sans-serif",gap:"24px",zIndex:9999,padding:"20px",textAlign:"center"},children:e.jsxs("div",{style:{maxWidth:"600px",background:"#18181b",padding:"32px",borderRadius:"16px",border:"1px solid #27272a"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:e.jsx(Ne,{size:48,color:"#ef4444"})}),e.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"16px",color:"#f4f4f5"},children:"Ocorreu um erro na renderizaÃ§Ã£o"}),e.jsxs("div",{style:{background:"#27272a",padding:"12px",borderRadius:"8px",color:"#fb7185",fontFamily:"monospace",fontSize:"12px",textAlign:"left",marginBottom:"24px",overflowX:"auto",maxHeight:"150px"},children:[((i=this.state.error)==null?void 0:i.toString())||"Erro desconhecido",e.jsx("br",{}),(n=(o=this.state.errorInfo)==null?void 0:o.componentStack)==null?void 0:n.slice(0,200),"..."]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:this.handleHardReset,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#ef4444",border:"none",borderRadius:"6px",color:"white",fontWeight:"600",cursor:"pointer"},children:[e.jsx(H,{size:18})," Reseta Tudo (Hard)"]}),e.jsxs("button",{onClick:()=>window.location.reload(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#3f3f46",border:"none",borderRadius:"6px",color:"white",fontWeight:"600",cursor:"pointer"},children:[e.jsx(Ie,{size:18})," Recarregar"]})]})]})}):this.props.children}}function et(){return e.jsx("div",{style:{position:"fixed",inset:0,overflow:"hidden"},children:e.jsx(Qe,{children:e.jsxs(He,{persistenceKey:"jiukisidian-v3-debug",shapeUtils:Ke,components:Ye,options:_e,hideUi:!1,children:[e.jsx(Xe,{}),e.jsx(Ze,{})]})})})}ze.createRoot(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:e.jsx(et,{})}));
