var G=Object.defineProperty;var J=(t,n,i)=>n in t?G(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i;var C=(t,n,i)=>J(t,typeof n!="symbol"?n+"":n,i);import{j as e,r as g,$ as q,a0 as V,a1 as $,a2 as X,a3 as Z,a4 as K,a5 as T,a6 as Y,a7 as _,a8 as L,a9 as Q,aa as ee,ab as te,ac as ie,ad as ne,ae as F,af as R,ag as se,ah as ae,ai as oe,aj as le,ak as P,al as re,am as ce,an as de,ao as ue,ap as pe,R as E,aq as xe,ar as he,as as me,at as ge,au as je,av as fe,aw as be,ax as ye,ay as ke,az as N,aA as A,aB as U,aC as ve,aD as we,aE as Se,aF as Ce,aG as Ne,aH as Ie,aI as ze}from"./vendor-BUjPADYz.js";import{S as Pe,R as Me,H as Re,u as D,c as B,A as Ee,t as O,D as De,a as Te,b as Le,d as Ae,e as Ue,f as Be,T as He}from"./tldraw-BGKQIMnY.js";import{u as $e,S as Fe,T as Oe,C as We,a as Ge,E as Je}from"./tiptap-DuYfd7f2.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();class W extends Pe{constructor(){super(...arguments);C(this,"canResize",()=>!0)}getDefaultProps(){return{w:350,h:400,text:"<h2>Novo Card</h2><p>Digite aqui...</p>"}}getGeometry(i){return new Me({width:i.props.w,height:i.props.h,isFilled:!0})}onResize(i,r){return{props:{w:Math.max(200,r.initialShape.props.w*r.scaleX),h:Math.max(150,r.initialShape.props.h*r.scaleY)}}}component(i){return e.jsx(Re,{style:{pointerEvents:"all"},children:e.jsx(qe,{id:i.id,text:i.props.text})})}indicator(i){return e.jsx("rect",{width:i.props.w,height:i.props.h})}}C(W,"type","obsidian-note");const qe=({id:t,text:n})=>{const i=D(),r=g.useCallback(o=>{i.updateShape({id:t,type:"obsidian-note",props:{text:o}})},[i,t]),s=$e({extensions:[Fe,Oe,We,Ge.configure({types:["heading","paragraph"]})],content:n,onUpdate:({editor:o})=>r(o.getHTML()),editorProps:{attributes:{class:"prose prose-invert",style:"height: 100%; color: #f4f4f5; outline: none; font-family: Inter, sans-serif; line-height: 1.6;"}}});return g.useEffect(()=>{if(!s)return;const o=l=>{if(l.detail.id!==t)return;const{action:u,value:c}=l.detail,d=s.chain().focus();switch(u){case"bold":d.toggleBold().run();break;case"italic":d.toggleItalic().run();break;case"h1":d.toggleHeading({level:1}).run();break;case"h2":d.toggleHeading({level:2}).run();break;case"list":d.toggleBulletList().run();break;case"align":d.setTextAlign(c).run();break;case"color":d.setColor(c).run();break;case"emoji":d.insertContent(c).run();break}};return window.addEventListener("jiuk-editor-action",o),()=>window.removeEventListener("jiuk-editor-action",o)},[s,t]),s?e.jsxs("div",{className:"obsidian-card",style:{width:"100%",height:"100%"},children:[e.jsxs("div",{className:"obsidian-header",children:[e.jsx("div",{className:"circle-btn",style:{background:"#a855f7",boxShadow:"0 0 8px rgba(168, 85, 247, 0.4)"}}),e.jsx("div",{className:"circle-btn",style:{background:"#fb7185"}}),e.jsx("div",{className:"circle-btn",style:{background:"#fde047"}}),e.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#a1a1aa",fontWeight:600,letterSpacing:"0.02em"},children:"Jiukisidian Note"})]}),e.jsx("div",{style:{flex:1,padding:"16px",overflowY:"auto",cursor:"text"},onPointerDown:o=>o.stopPropagation(),onDoubleClick:o=>o.stopPropagation(),children:e.jsx(Je,{editor:s})})]}):null},b={exportCanvas:async(t,n)=>{const i=t.getSelectedShapeIds(),r=i.length>0?i:Array.from(t.getCurrentPageShapeIds());if(r.length!==0)try{if(n==="json"){const u=t.getSnapshot(),c=JSON.stringify(u,null,2),d=new Blob([c],{type:"application/json"});M(d,"jiukisidian-project.json");return}const s=await t.getSvg(r,{scale:2,background:!0});if(!s)throw new Error("Falha ao gerar SVG");if(n==="pdf"){alert("ExportaÃ§Ã£o direta para PDF requer biblioteca externa. Exportando como PNG.");const u=await H(s,"image/png");u&&M(u,"jiukisidian-export.png");return}const l=await H(s,n==="jpg"?"image/jpeg":"image/png");l&&M(l,`jiukisidian-export.${n}`)}catch(s){console.error(s),alert("NÃ£o foi possÃ­vel exportar o arquivo.")}},handleImageUpload:(t,n)=>{if(!n)return;if(!n.type.startsWith("image/")){alert("Por favor, selecione apenas arquivos de imagem.");return}const i=new FileReader;i.onload=async()=>{const r=Ee.createId(),s=B(),o=t.getViewportScreenCenter(),l=new Image;l.src=i.result,l.onload=()=>{t.createAssets([{id:r,typeName:"asset",type:"image",props:{name:n.name,src:i.result,w:l.width,h:l.height,mimeType:n.type,isAnimated:!1},meta:{}}]),t.createShape({id:s,type:"image",x:o.x-l.width/2,y:o.y-l.height/2,props:{assetId:r,w:l.width,h:l.height}})}},i.readAsDataURL(n)},setTheme:(t,n)=>{const i=n==="light"?"light":"dark";t.user.updateUserPreferences({colorScheme:i}),document.body.setAttribute("data-theme",n),n==="jiuk"?document.documentElement.style.setProperty("--primary","#a855f7"):n==="dark"&&document.documentElement.style.setProperty("--primary","#3b82f6")},setUiScale:t=>{document.documentElement.style.setProperty("--ui-icon-size",`${t}px`)},toggleReducedMotion:t=>{const i=t.user.getAnimationSpeed()===0?1:0;return t.user.updateUserPreferences({animationSpeed:i}),i===0},toggleGrid:t=>{const n=t.getInstanceState().isGridMode;t.updateInstanceState({isGridMode:!n})},toggleHighContrast:()=>{document.body.classList.toggle("high-contrast")},createJiukNote:t=>{const n=t.getViewportScreenCenter(),i=(Math.random()-.5)*20;t.createShape({id:B(),type:"obsidian-note",x:n.x-175+i,y:n.y-200+i,props:{w:350,h:400}})}};function M(t,n){const i=URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}function H(t,n){return new Promise(i=>{const r=new XMLSerializer().serializeToString(t),o=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(r)))}`,l=new Image;l.onload=()=>{const u=document.createElement("canvas");u.width=l.width,u.height=l.height;const c=u.getContext("2d");if(!c)return i(null);n==="image/jpeg"&&(c.fillStyle="#ffffff",c.fillRect(0,0,u.width,u.height)),c.drawImage(l,0,0),u.toBlob(d=>i(d),n)},l.src=o})}const Ve="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cradialGradient%20id='bg-gradient'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(256%20256)%20rotate(90)%20scale(512)'%3e%3cstop%20stop-color='%232e1065'%20/%3e%3cstop%20offset='1'%20stop-color='%2309090b'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='jiuk-gradient'%20x1='80'%20y1='120'%20x2='320'%20y2='420'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23a855f7'%20/%3e%3cstop%20offset='50%25'%20stop-color='%23d946ef'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23fb7185'%20/%3e%3c/linearGradient%3e%3cfilter%20id='glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeGaussianBlur%20stdDeviation='20'%20result='blur'%20/%3e%3cfeComposite%20in='SourceGraphic'%20in2='blur'%20operator='over'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20width='512'%20height='512'%20rx='120'%20fill='url(%23bg-gradient)'%20/%3e%3cg%20stroke='%23a855f7'%20stroke-width='4'%20opacity='0.2'%20stroke-linecap='round'%3e%3cline%20x1='320'%20y1='120'%20x2='420'%20y2='80'%20/%3e%3cline%20x1='320'%20y1='220'%20x2='400'%20y2='220'%20/%3e%3ccircle%20cx='420'%20cy='80'%20r='6'%20fill='%23a855f7'%20/%3e%3c/g%3e%3cpath%20d='M320%20120%20V300%20C320%20366.274%20266.274%20420%20200%20420%20C133.726%20420%2080%20366.274%2080%20300'%20stroke='url(%23jiuk-gradient)'%20stroke-width='60'%20stroke-linecap='round'%20stroke-linejoin='round'%20filter='url(%23glow)'%20/%3e%3ccircle%20cx='320'%20cy='120'%20r='32'%20fill='%23fde047'%20filter='url(%23glow)'/%3e%3ccircle%20cx='200'%20cy='420'%20r='24'%20fill='%23fb7185'%20/%3e%3c/svg%3e",Xe=O(()=>{const t=D(),n=g.useRef(null),[i,r]=g.useState(!1),[s,o]=g.useState(null),[l,u]=g.useState(32),c=t.getCurrentToolId();g.useEffect(()=>{b.setUiScale(l)},[l]),g.useEffect(()=>{var j;const x=()=>{r(!1),o(null)};return(j=document.querySelector(".tl-canvas"))==null||j.addEventListener("pointerdown",x),()=>{var f;return(f=document.querySelector(".tl-canvas"))==null?void 0:f.removeEventListener("pointerdown",x)}},[]);const d=x=>t.setCurrentTool(x),I=()=>e.jsxs("div",{style:{position:"relative",height:"100%",display:"flex",alignItems:"center"},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.jsx("button",{className:`jiuk-icon-btn ${i?"active":""}`,title:"Menu Principal",style:{padding:4},children:e.jsx("img",{src:Ve,alt:"Jiukisidian Logo",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"6px",filter:c==="select"?"none":"grayscale(0.5)"}})}),i&&e.jsxs("div",{className:"jiuk-dropdown-menu",children:[e.jsx("div",{className:"jiuk-menu-label",children:"Exportar"}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>b.exportCanvas(t,"png"),children:[e.jsx(P,{size:18})," PNG"]}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>b.exportCanvas(t,"pdf"),children:[e.jsx(P,{size:18})," PDF"]}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>b.exportCanvas(t,"json"),children:[e.jsx(P,{size:18})," JSON"]}),e.jsx("div",{className:"jiuk-menu-label",children:"AparÃªncia"}),e.jsxs("div",{style:{display:"flex",padding:"0 12px",gap:4},children:[e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center"},title:"Claro",onClick:()=>b.setTheme(t,"light"),children:e.jsx(re,{size:18})}),e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center"},title:"Escuro",onClick:()=>b.setTheme(t,"dark"),children:e.jsx(ce,{size:18})}),e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center",color:"#a855f7"},title:"Jiuk Mode",onClick:()=>b.setTheme(t,"jiuk"),children:e.jsx(de,{size:18})})]}),e.jsx("div",{className:"jiuk-menu-label",children:"Tamanho UI"}),e.jsxs("div",{style:{display:"flex",padding:"0 12px",gap:4},children:[e.jsx("button",{className:`jiuk-menu-item ${l===24?"active":""}`,style:{justifyContent:"center"},onClick:()=>u(24),children:"P"}),e.jsx("button",{className:`jiuk-menu-item ${l===28?"active":""}`,style:{justifyContent:"center"},onClick:()=>u(28),children:"M"}),e.jsx("button",{className:`jiuk-menu-item ${l===32?"active":""}`,style:{justifyContent:"center"},onClick:()=>u(32),children:"G"})]}),e.jsx("div",{className:"jiuk-separator",style:{width:"100%",height:"1px",margin:"4px 0"}}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>window.open("https://ko-fi.com/jiuk","_blank"),children:[e.jsx(ue,{size:18,color:"#fb7185"})," Apoiar o Projeto"]})]})]}),h=({id:x,icon:j,tools:f})=>{const v=c===x||f.some(m=>m.id===c),y=f.find(m=>m.id===c),z=y?y.icon:j;return e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",height:"100%"},onMouseEnter:()=>o(x),onMouseLeave:()=>o(null),children:[e.jsxs("div",{style:{display:"flex",height:"100%",alignItems:"center"},children:[e.jsx("button",{className:`jiuk-icon-btn ${v?"active":""}`,style:{borderRadius:"10px 0 0 10px",paddingRight:4,width:"auto",minWidth:"calc(var(--ui-icon-size) + 12px)",borderRight:"none"},onClick:()=>d(y?y.id:f[0].id),title:x,children:z}),e.jsx("div",{className:`jiuk-icon-btn ${v?"active":""}`,style:{width:20,borderRadius:"0 10px 10px 0",borderLeft:"none",padding:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:.6},children:e.jsx(pe,{style:{width:14,height:14}})})]}),s===x&&e.jsx("div",{className:"jiuk-dropdown-menu",style:{minWidth:160},children:f.map(m=>e.jsxs("button",{className:`jiuk-menu-item ${c===m.id?"active":""}`,onClick:()=>{d(m.id),o(null)},children:[E.cloneElement(m.icon,{size:18})," ",e.jsx("span",{style:{marginLeft:8},children:m.label}),c===m.id&&e.jsx(xe,{size:16,style:{marginLeft:"auto"}})]},m.id))})]})};return e.jsxs("div",{style:{position:"absolute",top:24,left:"50%",transform:"translateX(-50%)",zIndex:300,display:"flex",gap:"16px",alignItems:"flex-start"},children:[e.jsx("input",{type:"file",ref:n,style:{display:"none"},accept:"image/*",onChange:x=>{var j;return b.handleImageUpload(t,(j=x.target.files)==null?void 0:j[0])}}),e.jsx("div",{className:"jiuk-ui-panel",children:e.jsx(I,{})}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.undo(),title:"Desfazer",children:e.jsx(q,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.redo(),title:"Refazer",children:e.jsx(V,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn danger",onClick:()=>t.deleteShapes(t.getSelectedShapeIds()),title:"Deletar",children:e.jsx($,{})})]}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:`jiuk-icon-btn ${c==="select"?"active":""}`,onClick:()=>d("select"),title:"Selecionar (V)",children:e.jsx(X,{})}),e.jsx("button",{className:`jiuk-icon-btn ${c==="hand"?"active":""}`,onClick:()=>d("hand"),title:"Mover (H)",children:e.jsx(Z,{})}),e.jsx("button",{className:`jiuk-icon-btn ${c==="laser"?"active":""}`,onClick:()=>d("laser"),title:"Laser",children:e.jsx(K,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx(h,{id:"draw-group",icon:e.jsx(T,{}),tools:[{id:"draw",label:"Caneta",icon:e.jsx(T,{})},{id:"highlight",label:"Marca-texto",icon:e.jsx(Y,{})}]}),e.jsx("button",{className:`jiuk-icon-btn ${c==="eraser"?"active":""}`,onClick:()=>d("eraser"),title:"Borracha (E)",children:e.jsx(_,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx(h,{id:"geo-group",icon:e.jsx(L,{}),tools:[{id:"geo",label:"RetÃ¢ngulo",icon:e.jsx(L,{})},{id:"ellipse",label:"CÃ­rculo",icon:e.jsx(Q,{})},{id:"triangle",label:"TriÃ¢ngulo",icon:e.jsx(ee,{})},{id:"diamond",label:"Losango",icon:e.jsx(te,{})},{id:"star",label:"Estrela",icon:e.jsx(ie,{})}]}),e.jsx("button",{className:`jiuk-icon-btn ${c==="arrow"?"active":""}`,onClick:()=>d("arrow"),title:"Seta",children:e.jsx(ne,{})}),e.jsx("button",{className:`jiuk-icon-btn ${c==="line"?"active":""}`,onClick:()=>d("line"),title:"Linha",children:e.jsx(F,{style:{transform:"rotate(-45deg)"}})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:`jiuk-icon-btn ${c==="text"?"active":""}`,onClick:()=>d("text"),title:"Texto",children:e.jsx(R,{})}),e.jsx("button",{className:`jiuk-icon-btn ${c==="note"?"active":""}`,onClick:()=>d("note"),title:"Post-it",children:e.jsx(se,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>{var x;return(x=n.current)==null?void 0:x.click()},title:"Imagem",children:e.jsx(ae,{})}),e.jsx("button",{className:`jiuk-icon-btn ${t.getCurrentToolId()==="obsidian-note"?"active":""}`,onClick:()=>b.createJiukNote(t),title:"Jiukisidian Note",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("circle",{cx:"10",cy:"13",r:"2"})]})})]}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.zoomIn(),title:"Zoom In",children:e.jsx(oe,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.zoomOut(),title:"Zoom Out",children:e.jsx(le,{})})]})]})}),Ze=O(()=>{const t=D(),n=g.useRef(null),[i,r]=g.useState(!1),s=t.getSelectedShapes(),o=s.length>0,l=s.length===1&&s[0].type==="obsidian-note",u=o&&!l&&s.some(a=>["geo","draw"].includes(a.type)),c=o&&!l&&s.some(a=>["geo","line","arrow","draw"].includes(a.type)),d=o&&!l&&s.some(a=>["text","note","geo"].includes(a.type)),I=o&&!l&&s.some(a=>["text","note","geo"].includes(a.type)),h=(a,p=null)=>{if(!l)return;const S=new CustomEvent("jiuk-editor-action",{detail:{id:s[0].id,action:a,value:p}});window.dispatchEvent(S)},x=[{name:"black",hex:"#18181b"},{name:"grey",hex:"#e0e0e0"},{name:"light-violet",hex:"#d8b4fe"},{name:"violet",hex:"#a855f7"},{name:"blue",hex:"#60a5fa"},{name:"light-green",hex:"#4ade80"},{name:"yellow",hex:"#fde047"},{name:"light-red",hex:"#fb7185"},{name:"red",hex:"#dc2626"}],j=[{name:"none",label:"Vazio"},{name:"semi",label:"Semi"},{name:"solid",label:"SÃ³lido"},{name:"pattern",label:"PadrÃ£o"}],f=[{name:"s",label:"P"},{name:"m",label:"M"},{name:"l",label:"G"},{name:"xl",label:"XG"}],v=[{name:"draw",label:"MÃ£o"},{name:"solid",label:"Reto"},{name:"dashed",label:"TraÃ§o"},{name:"dotted",label:"Ponto"}],y=[{name:"draw",label:"Draw"},{name:"sans",label:"Sans"},{name:"serif",label:"Serif"},{name:"mono",label:"Mono"}],z=[{name:"start",icon:e.jsx(N,{})},{name:"middle",icon:e.jsx(A,{})},{name:"end",icon:e.jsx(U,{})},{name:"justify",icon:e.jsx(Ce,{})}],m=["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ¤£","ðŸ˜‚","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Š","ðŸ˜‡","ðŸ¥°","ðŸ˜","ðŸ¤©","ðŸ˜˜","ðŸ˜—","ðŸ˜š","ðŸ˜™","ðŸ˜‹","ðŸ˜›","ðŸ˜œ","ðŸ¤ª","ðŸ˜","ðŸ¤‘","ðŸ¤—","ðŸ¤­","ðŸ¤«","ðŸ¤”","ðŸ¤","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ˜","ðŸ˜’","ðŸ™„","ðŸ˜¬","ðŸ¤¥","ðŸ˜Œ","ðŸ˜”","ðŸ˜ª","ðŸ¤¤","ðŸ˜´","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®","ðŸ¤§","ðŸ¥µ","ðŸ¥¶","ðŸ¥´","ðŸ˜µ","ðŸ¤¯","ðŸ¤ ","ðŸ¥³","ðŸ˜Ž","ðŸ¤“","ðŸ§","ðŸ˜•","ðŸ˜Ÿ","ðŸ™","ðŸ˜®","ðŸ˜¯","ðŸ˜²","ðŸ˜³","ðŸ¥º","ðŸ˜¦","ðŸ˜§","ðŸ˜¨","ðŸ˜°","ðŸ˜¥","ðŸ˜¢","ðŸ˜­","ðŸ˜±","ðŸ˜–","ðŸ˜£","ðŸ˜ž","ðŸ˜“","ðŸ˜©","ðŸ˜«","ðŸ¥±","ðŸ˜¤","ðŸ˜¡","ðŸ˜ ","ðŸ¤¬","ðŸ˜ˆ","ðŸ‘¿","ðŸ’€","â˜ ï¸","ðŸ’©","ðŸ¤¡","ðŸ‘¹","ðŸ‘º","ðŸ‘»","ðŸ‘½","ðŸ‘¾","ðŸ¤–","ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ–•","ðŸ‘‡","â˜ï¸","ðŸ‘","ðŸ‘Ž","âœŠ","ðŸ‘Š","ðŸ¤›","ðŸ¤œ","ðŸ‘","ðŸ™Œ","ðŸ‘","ðŸ¤²","ðŸ¤","ðŸ™","âœï¸","ðŸ’…","ðŸ¤³","ðŸ’ª","ðŸ§ ","ðŸ¦´","ðŸ‘€","ðŸ‘ï¸","ðŸ‘„","ðŸ’‹","ðŸ’˜","ðŸ’","ðŸ’–","ðŸ’—","ðŸ’“","ðŸ’ž","ðŸ’•","ðŸ’Ÿ","â£ï¸","ðŸ’”","â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ¤Ž","ðŸ–¤","ðŸ¤","ðŸ’¯","ðŸ’¢","ðŸ’¥","ðŸ’«","ðŸ’¦","ðŸ’¨","ðŸ•³ï¸","ðŸ’£","ðŸ’¬","ðŸ‘ï¸â€ðŸ—¨ï¸","ðŸ—¨ï¸","ðŸ—¯ï¸","ðŸ’­","ðŸ’¤","ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤"],k=(a,p,S)=>{S.preventDefault(),S.stopPropagation(),o?t.setStyleForSelectedShapes(a,p):t.setStyleForNextShapes(a,p)},w={width:"auto",padding:"0 8px",fontSize:"calc(var(--ui-icon-size) * 0.45)",height:"calc(var(--ui-icon-size) + 4px)",minHeight:"24px"};return e.jsx(he,{nodeRef:n,handle:".drag-handle",defaultPosition:{x:50,y:window.innerHeight-450},children:e.jsxs("div",{ref:n,className:"jiuk-ui-panel",style:{position:"absolute",zIndex:400,flexDirection:"column",alignItems:"flex-start",gap:"12px",padding:"12px",minWidth:"260px"},children:[e.jsx("div",{className:"drag-handle",style:{width:"100%",display:"flex",justifyContent:"center",cursor:"grab",paddingBottom:"8px",borderBottom:"1px solid var(--border)",marginBottom:"4px",color:"var(--text-muted)"},children:e.jsx(me,{})}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start",width:"100%"},children:[e.jsx(ge,{style:{marginTop:6,color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)",height:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[x.map(a=>e.jsx("button",{onPointerDown:p=>{l?(p.preventDefault(),h("color",a.hex)):k(De,a.name,p)},title:a.name,style:{width:"calc(var(--ui-icon-size) - 4px)",height:"calc(var(--ui-icon-size) - 4px)",borderRadius:"50%",background:a.hex,border:"2px solid var(--border)",cursor:"pointer",padding:0,transition:"transform 0.1s"}},a.name)),l&&e.jsx("div",{style:{position:"relative",width:"calc(var(--ui-icon-size) - 4px)",height:"calc(var(--ui-icon-size) - 4px)",overflow:"hidden",borderRadius:"50%",border:"2px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",background:"conic-gradient(red, yellow, green, cyan, blue, magenta, red)"},children:e.jsx("input",{type:"color",onChange:a=>h("color",a.target.value),style:{position:"absolute",opacity:0,width:"100%",height:"100%",cursor:"pointer"}})})]})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(R,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("h1"),title:"TÃ­tulo 1",children:e.jsx(je,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("h2"),title:"TÃ­tulo 2",children:e.jsx(fe,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("bold"),title:"Negrito",children:e.jsx(be,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("italic"),title:"ItÃ¡lico",children:e.jsx(ye,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("list"),title:"Lista",children:e.jsx(ke,{})})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(N,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("align","left"),children:e.jsx(N,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("align","center"),children:e.jsx(A,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>h("align","right"),children:e.jsx(U,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{className:`jiuk-icon-btn ${i?"active":""}`,onClick:()=>r(!i),children:e.jsx(ve,{})}),i&&e.jsx("div",{className:"jiuk-ui-panel",style:{position:"absolute",bottom:"100%",left:"-40px",marginBottom:"8px",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"4px",width:"280px",maxHeight:"260px",overflowY:"auto",zIndex:500,padding:"8px",backgroundColor:"var(--bg-surface)",border:"1px solid var(--border)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},children:m.map(a=>e.jsx("button",{className:"jiuk-icon-btn",style:{width:"100%",height:"auto",fontSize:"24px",aspectRatio:"1/1"},onClick:()=>{h("emoji",a),r(!1)},children:a},a))})]})]})]})]}),u&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(we,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:j.map(a=>e.jsx("button",{onPointerDown:p=>k(Te,a.name,p),className:"jiuk-icon-btn",style:w,children:a.label},a.name))})]}),I&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(N,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:z.map(a=>e.jsx("button",{onPointerDown:p=>k(Le,a.name,p),className:"jiuk-icon-btn",children:a.icon},a.name))})]}),c&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(F,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:v.map(a=>e.jsx("button",{onPointerDown:p=>k(Ae,a.name,p),className:"jiuk-icon-btn",style:w,children:a.label},a.name))})]}),!l&&o&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(Se,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:f.map(a=>e.jsx("button",{onPointerDown:p=>k(Ue,a.name,p),className:"jiuk-icon-btn",style:w,children:a.label},a.name))})]}),d&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(R,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:y.map(a=>e.jsx("button",{onPointerDown:p=>k(Be,a.name,p),className:"jiuk-icon-btn",style:w,children:a.label},a.name))})]})]})})}),Ke=[W],Ye={Toolbar:null,MainMenu:null,DebugMenu:null,PageMenu:null,HelpMenu:null,NavigationPanel:null,SharePanel:null,Minimap:null,StylePanel:null,QuickActions:null,ZoomMenu:null},_e={maxPages:20};class Qe extends E.Component{constructor(i){super(i);C(this,"handleHardReset",()=>{localStorage.clear(),sessionStorage.clear(),window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,r){console.error("Jiukisidian Crash:",i,r),this.setState({errorInfo:r})}render(){var i,r,s;return this.state.hasError?e.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"#09090b",color:"#f4f4f5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"Inter, sans-serif",gap:"24px",zIndex:9999,padding:"20px",textAlign:"center"},children:e.jsxs("div",{style:{maxWidth:"600px",background:"#18181b",padding:"32px",borderRadius:"16px",border:"1px solid #27272a"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:e.jsx(Ne,{size:48,color:"#ef4444"})}),e.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"16px",color:"#f4f4f5"},children:"Ocorreu um erro na renderizaÃ§Ã£o"}),e.jsxs("div",{style:{background:"#27272a",padding:"12px",borderRadius:"8px",color:"#fb7185",fontFamily:"monospace",fontSize:"12px",textAlign:"left",marginBottom:"24px",overflowX:"auto",maxHeight:"150px"},children:[((i=this.state.error)==null?void 0:i.toString())||"Erro desconhecido",e.jsx("br",{}),(s=(r=this.state.errorInfo)==null?void 0:r.componentStack)==null?void 0:s.slice(0,200),"..."]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:this.handleHardReset,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#ef4444",border:"none",borderRadius:"6px",color:"white",fontWeight:"600",cursor:"pointer"},children:[e.jsx($,{size:18})," Reseta Tudo (Hard)"]}),e.jsxs("button",{onClick:()=>window.location.reload(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#3f3f46",border:"none",borderRadius:"6px",color:"white",fontWeight:"600",cursor:"pointer"},children:[e.jsx(Ie,{size:18})," Recarregar"]})]})]})}):this.props.children}}function et(){return e.jsx("div",{style:{position:"fixed",inset:0,overflow:"hidden"},children:e.jsx(Qe,{children:e.jsxs(He,{persistenceKey:"jiukisidian-v3-debug",shapeUtils:Ke,components:Ye,options:_e,hideUi:!1,children:[e.jsx(Xe,{}),e.jsx(Ze,{})]})})})}ze.createRoot(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:e.jsx(et,{})}));
