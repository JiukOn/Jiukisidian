import{j as e,r as g,ab as O,ac as W,ad as U,ae as G,af as J,ag as q,ah as T,ai as V,aj as X,ak as E,al as Z,am as K,an as Y,ao as _,ap as Q,aq as B,ar as M,as as ee,at as te,au as ie,av as ne,aw as z,ax as se,ay as ae,az as oe,aA as le,aB as re,R as H,aC as ce,aD as de,aE as ue,aF as pe,aG as xe,aH as he,aI as me,aJ as ge,aK as je,aL as S,aM as R,aN as D,aO as fe,aP as be,aQ as ye,aR as ke,aS as ve,aT as we,b as Se}from"./vendor-yedBMiyQ.js";import{S as Ce,R as Ne,H as Ie,c as L,A as ze,t as $,u as F,D as Pe,a as Me,b as Te,d as Ee,e as Re,f as De,T as Le}from"./tldraw-CWJymSBM.js";import{u as Ae,i as Ue,T as Be,h as He,j as $e,k as Fe}from"./tiptap-Da36d8-z.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();class Oe extends Ce{static type="obsidian-note";canResize=()=>!0;getDefaultProps(){return{w:350,h:400,text:"<h2>Novo Card</h2><p>Digite aqui...</p>"}}getGeometry(t){return new Ne({width:t.props.w,height:t.props.h,isFilled:!0})}onResize(t,a){return{props:{w:Math.max(200,a.initialShape.props.w*a.scaleX),h:Math.max(150,a.initialShape.props.h*a.scaleY)}}}component(t){const a=c=>{this.editor.updateShape({id:t.id,type:"obsidian-note",props:{text:c}})};return e.jsx(Ie,{style:{pointerEvents:"all"},children:e.jsx(We,{id:t.id,text:t.props.text,onUpdate:a})})}indicator(t){return e.jsx("rect",{width:t.props.w,height:t.props.h})}}const We=({id:i,text:t,onUpdate:a})=>{const c=Ae({extensions:[Ue,Be,He,$e.configure({types:["heading","paragraph"]})],content:t,onUpdate:({editor:n})=>a(n.getHTML()),editorProps:{attributes:{class:"prose prose-invert",style:"height: 100%; color: #f4f4f5; outline: none; font-family: Inter, sans-serif; line-height: 1.6;"}}});return g.useEffect(()=>{if(!c)return;const n=l=>{if(l.detail.id!==i)return;const{action:o,value:d}=l.detail,r=c.chain().focus();switch(o){case"bold":r.toggleBold().run();break;case"italic":r.toggleItalic().run();break;case"h1":r.toggleHeading({level:1}).run();break;case"h2":r.toggleHeading({level:2}).run();break;case"list":r.toggleBulletList().run();break;case"align":r.setTextAlign(d).run();break;case"color":r.setColor(d).run();break;case"emoji":r.insertContent(d).run();break}};return window.addEventListener("jiuk-editor-action",n),()=>window.removeEventListener("jiuk-editor-action",n)},[c,i]),c?e.jsxs("div",{className:"obsidian-card",style:{width:"100%",height:"100%"},children:[e.jsxs("div",{className:"obsidian-header",children:[e.jsx("div",{className:"circle-btn",style:{background:"#a855f7",boxShadow:"0 0 8px rgba(168, 85, 247, 0.4)"}}),e.jsx("div",{className:"circle-btn",style:{background:"#fb7185"}}),e.jsx("div",{className:"circle-btn",style:{background:"#fde047"}}),e.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#a1a1aa",fontWeight:600,letterSpacing:"0.02em"},children:"Jiukisidian Note"})]}),e.jsx("div",{style:{flex:1,padding:"16px",overflowY:"auto",cursor:"text"},onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),children:e.jsx(Fe,{editor:c})})]}):null},j={exportCanvas:async(i,t)=>{const a=i.getSelectedShapeIds(),c=a.length>0?a:Array.from(i.getCurrentPageShapeIds());if(c.length!==0)try{if(t==="json"){const d=i.getSnapshot(),r=JSON.stringify(d,null,2),p=new Blob([r],{type:"application/json"});P(p,"jiukisidian-project.json");return}const n=await i.getSvg(c,{scale:2,background:!0});if(!n)throw new Error("Falha ao gerar SVG");if(t==="pdf"){alert("ExportaÃ§Ã£o direta para PDF requer biblioteca externa. Exportando como PNG.");const d=await A(n,"image/png");d&&P(d,"jiukisidian-export.png");return}const o=await A(n,t==="jpg"?"image/jpeg":"image/png");o&&P(o,`jiukisidian-export.${t}`)}catch(n){console.error(n),alert("NÃ£o foi possÃ­vel exportar o arquivo.")}},handleImageUpload:(i,t)=>{if(!t)return;if(!t.type.startsWith("image/")){alert("Por favor, selecione apenas arquivos de imagem.");return}const a=new FileReader;a.onload=async()=>{const c=ze.createId(),n=L(),l=i.getViewportScreenCenter(),o=new Image;o.src=a.result,o.onload=()=>{i.createAssets([{id:c,typeName:"asset",type:"image",props:{name:t.name,src:a.result,w:o.width,h:o.height,mimeType:t.type,isAnimated:!1},meta:{}}]),i.createShape({id:n,type:"image",x:l.x-o.width/2,y:l.y-o.height/2,props:{assetId:c,w:o.width,h:o.height}})}},a.readAsDataURL(t)},setTheme:(i,t)=>{const a=t==="light"?"light":"dark";i.user.updateUserPreferences({colorScheme:a}),document.body.setAttribute("data-theme",t),t==="jiuk"?document.documentElement.style.setProperty("--primary","#a855f7"):t==="dark"&&document.documentElement.style.setProperty("--primary","#3b82f6")},setUiScale:i=>{document.documentElement.style.setProperty("--ui-icon-size",`${i}px`)},toggleReducedMotion:i=>{const a=i.user.getAnimationSpeed()===0?1:0;return i.user.updateUserPreferences({animationSpeed:a}),a===0},toggleGrid:i=>{const t=i.getInstanceState().isGridMode;i.updateInstanceState({isGridMode:!t})},toggleHighContrast:()=>{document.body.classList.toggle("high-contrast")},createJiukNote:i=>{const t=i.getViewportScreenCenter(),a=(Math.random()-.5)*20;i.createShape({id:L(),type:"obsidian-note",x:t.x-175+a,y:t.y-200+a,props:{w:350,h:400}})}};function P(i,t){const a=URL.createObjectURL(i),c=document.createElement("a");c.href=a,c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(a)}function A(i,t){return new Promise(a=>{const c=new XMLSerializer().serializeToString(i),l=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(c)))}`,o=new Image;o.onload=()=>{const d=document.createElement("canvas");d.width=o.width,d.height=o.height;const r=d.getContext("2d");if(!r)return a(null);t==="image/jpeg"&&(r.fillStyle="#ffffff",r.fillRect(0,0,d.width,d.height)),r.drawImage(o,0,0),d.toBlob(p=>a(p),t)},o.src=l})}const Ge="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cradialGradient%20id='bg-gradient'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(256%20256)%20rotate(90)%20scale(512)'%3e%3cstop%20stop-color='%232e1065'%20/%3e%3cstop%20offset='1'%20stop-color='%2309090b'%20/%3e%3c/radialGradient%3e%3clinearGradient%20id='jiuk-gradient'%20x1='80'%20y1='120'%20x2='320'%20y2='420'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23a855f7'%20/%3e%3cstop%20offset='50%25'%20stop-color='%23d946ef'%20/%3e%3cstop%20offset='100%25'%20stop-color='%23fb7185'%20/%3e%3c/linearGradient%3e%3cfilter%20id='glow'%20x='-40%25'%20y='-40%25'%20width='180%25'%20height='180%25'%3e%3cfeGaussianBlur%20stdDeviation='20'%20result='blur'%20/%3e%3cfeComposite%20in='SourceGraphic'%20in2='blur'%20operator='over'%20/%3e%3c/filter%3e%3c/defs%3e%3crect%20width='512'%20height='512'%20rx='120'%20fill='url(%23bg-gradient)'%20/%3e%3cg%20stroke='%23a855f7'%20stroke-width='4'%20opacity='0.2'%20stroke-linecap='round'%3e%3cline%20x1='320'%20y1='120'%20x2='420'%20y2='80'%20/%3e%3cline%20x1='320'%20y1='220'%20x2='400'%20y2='220'%20/%3e%3ccircle%20cx='420'%20cy='80'%20r='6'%20fill='%23a855f7'%20/%3e%3c/g%3e%3cpath%20d='M320%20120%20V300%20C320%20366.274%20266.274%20420%20200%20420%20C133.726%20420%2080%20366.274%2080%20300'%20stroke='url(%23jiuk-gradient)'%20stroke-width='60'%20stroke-linecap='round'%20stroke-linejoin='round'%20filter='url(%23glow)'%20/%3e%3ccircle%20cx='320'%20cy='120'%20r='32'%20fill='%23fde047'%20filter='url(%23glow)'/%3e%3ccircle%20cx='200'%20cy='420'%20r='24'%20fill='%23fb7185'%20/%3e%3c/svg%3e",Je=$(()=>{const i=F(),t=g.useRef(null),[a,c]=g.useState(!1),[n,l]=g.useState(null),[o,d]=g.useState(32),r=i.getCurrentToolId();g.useEffect(()=>{j.setUiScale(o)},[o]),g.useEffect(()=>{const h=()=>{c(!1),l(null)};return document.querySelector(".tl-canvas")?.addEventListener("pointerdown",h),()=>document.querySelector(".tl-canvas")?.removeEventListener("pointerdown",h)},[]);const p=h=>i.setCurrentTool(h),C=()=>e.jsxs("div",{style:{position:"relative",height:"100%",display:"flex",alignItems:"center"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsx("button",{className:`jiuk-icon-btn ${a?"active":""}`,title:"Menu Principal",style:{padding:4},children:e.jsx("img",{src:Ge,alt:"Jiukisidian Logo",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"6px",filter:r==="select"?"none":"grayscale(0.5)"}})}),a&&e.jsxs("div",{className:"jiuk-dropdown-menu",children:[e.jsx("div",{className:"jiuk-menu-label",children:"Exportar"}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>j.exportCanvas(i,"png"),children:[e.jsx(z,{size:18})," PNG"]}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>j.exportCanvas(i,"pdf"),children:[e.jsx(z,{size:18})," PDF"]}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>j.exportCanvas(i,"json"),children:[e.jsx(z,{size:18})," JSON"]}),e.jsx("div",{className:"jiuk-menu-label",children:"AparÃªncia"}),e.jsxs("div",{style:{display:"flex",padding:"0 12px",gap:4},children:[e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center"},title:"Claro",onClick:()=>j.setTheme(i,"light"),children:e.jsx(se,{size:18})}),e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center"},title:"Escuro",onClick:()=>j.setTheme(i,"dark"),children:e.jsx(ae,{size:18})}),e.jsx("button",{className:"jiuk-menu-item",style:{justifyContent:"center",color:"#a855f7"},title:"Jiuk Mode",onClick:()=>j.setTheme(i,"jiuk"),children:e.jsx(oe,{size:18})})]}),e.jsx("div",{className:"jiuk-menu-label",children:"Tamanho UI"}),e.jsxs("div",{style:{display:"flex",padding:"0 12px",gap:4},children:[e.jsx("button",{className:`jiuk-menu-item ${o===24?"active":""}`,style:{justifyContent:"center"},onClick:()=>d(24),children:"P"}),e.jsx("button",{className:`jiuk-menu-item ${o===28?"active":""}`,style:{justifyContent:"center"},onClick:()=>d(28),children:"M"}),e.jsx("button",{className:`jiuk-menu-item ${o===32?"active":""}`,style:{justifyContent:"center"},onClick:()=>d(32),children:"G"})]}),e.jsx("div",{className:"jiuk-separator",style:{width:"100%",height:"1px",margin:"4px 0"}}),e.jsxs("button",{className:"jiuk-menu-item",onClick:()=>window.open("https://ko-fi.com/jiuk","_blank"),children:[e.jsx(le,{size:18,color:"#fb7185"})," Apoiar o Projeto"]})]})]}),x=({id:h,icon:N,tools:f})=>{const k=r===h||f.some(m=>m.id===r),b=f.find(m=>m.id===r),I=b?b.icon:N;return e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",height:"100%"},onMouseEnter:()=>l(h),onMouseLeave:()=>l(null),children:[e.jsxs("div",{style:{display:"flex",height:"100%",alignItems:"center"},children:[e.jsx("button",{className:`jiuk-icon-btn ${k?"active":""}`,style:{borderRadius:"10px 0 0 10px",paddingRight:4,width:"auto",minWidth:"calc(var(--ui-icon-size) + 12px)",borderRight:"none"},onClick:()=>p(b?b.id:f[0].id),title:h,children:I}),e.jsx("div",{className:`jiuk-icon-btn ${k?"active":""}`,style:{width:20,borderRadius:"0 10px 10px 0",borderLeft:"none",padding:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:.6},children:e.jsx(re,{style:{width:14,height:14}})})]}),n===h&&e.jsx("div",{className:"jiuk-dropdown-menu",style:{minWidth:160},children:f.map(m=>e.jsxs("button",{className:`jiuk-menu-item ${r===m.id?"active":""}`,onClick:()=>{p(m.id),l(null)},children:[H.cloneElement(m.icon,{size:18})," ",e.jsx("span",{style:{marginLeft:8},children:m.label}),r===m.id&&e.jsx(ce,{size:16,style:{marginLeft:"auto"}})]},m.id))})]})};return e.jsxs("div",{style:{position:"absolute",top:24,left:"50%",transform:"translateX(-50%)",zIndex:300,display:"flex",gap:"16px",alignItems:"flex-start"},children:[e.jsx("input",{type:"file",ref:t,style:{display:"none"},accept:"image/*",onChange:h=>j.handleImageUpload(i,h.target.files?.[0])}),e.jsx("div",{className:"jiuk-ui-panel",children:e.jsx(C,{})}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>i.undo(),title:"Desfazer",children:e.jsx(O,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>i.redo(),title:"Refazer",children:e.jsx(W,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn danger",onClick:()=>i.deleteShapes(i.getSelectedShapeIds()),title:"Deletar",children:e.jsx(U,{})})]}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:`jiuk-icon-btn ${r==="select"?"active":""}`,onClick:()=>p("select"),title:"Selecionar (V)",children:e.jsx(G,{})}),e.jsx("button",{className:`jiuk-icon-btn ${r==="hand"?"active":""}`,onClick:()=>p("hand"),title:"Mover (H)",children:e.jsx(J,{})}),e.jsx("button",{className:`jiuk-icon-btn ${r==="laser"?"active":""}`,onClick:()=>p("laser"),title:"Laser",children:e.jsx(q,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx(x,{id:"draw-group",icon:e.jsx(T,{}),tools:[{id:"draw",label:"Caneta",icon:e.jsx(T,{})},{id:"highlight",label:"Marca-texto",icon:e.jsx(V,{})}]}),e.jsx("button",{className:`jiuk-icon-btn ${r==="eraser"?"active":""}`,onClick:()=>p("eraser"),title:"Borracha (E)",children:e.jsx(X,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx(x,{id:"geo-group",icon:e.jsx(E,{}),tools:[{id:"geo",label:"RetÃ¢ngulo",icon:e.jsx(E,{})},{id:"ellipse",label:"CÃ­rculo",icon:e.jsx(Z,{})},{id:"triangle",label:"TriÃ¢ngulo",icon:e.jsx(K,{})},{id:"diamond",label:"Losango",icon:e.jsx(Y,{})},{id:"star",label:"Estrela",icon:e.jsx(_,{})}]}),e.jsx("button",{className:`jiuk-icon-btn ${r==="arrow"?"active":""}`,onClick:()=>p("arrow"),title:"Seta",children:e.jsx(Q,{})}),e.jsx("button",{className:`jiuk-icon-btn ${r==="line"?"active":""}`,onClick:()=>p("line"),title:"Linha",children:e.jsx(B,{style:{transform:"rotate(-45deg)"}})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:`jiuk-icon-btn ${r==="text"?"active":""}`,onClick:()=>p("text"),title:"Texto",children:e.jsx(M,{})}),e.jsx("button",{className:`jiuk-icon-btn ${r==="note"?"active":""}`,onClick:()=>p("note"),title:"Post-it",children:e.jsx(ee,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>t.current?.click(),title:"Imagem",children:e.jsx(te,{})}),e.jsx("button",{className:`jiuk-icon-btn ${i.getCurrentToolId()==="obsidian-note"?"active":""}`,onClick:()=>j.createJiukNote(i),title:"Jiukisidian Note",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("circle",{cx:"10",cy:"13",r:"2"})]})})]}),e.jsxs("div",{className:"jiuk-ui-panel",children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>i.zoomIn(),title:"Zoom In",children:e.jsx(ie,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>i.zoomOut(),title:"Zoom Out",children:e.jsx(ne,{})})]})]})}),qe=$(()=>{const i=F(),t=g.useRef(null),[a,c]=g.useState(!1),n=i.getSelectedShapes(),l=n.length>0,o=n.length===1&&n[0].type==="obsidian-note",d=l&&!o&&n.some(s=>["geo","draw"].includes(s.type)),r=l&&!o&&n.some(s=>["geo","line","arrow","draw"].includes(s.type)),p=l&&!o&&n.some(s=>["text","note","geo"].includes(s.type)),C=l&&!o&&n.some(s=>["text","note","geo"].includes(s.type)),x=(s,u=null)=>{if(!o)return;const w=new CustomEvent("jiuk-editor-action",{detail:{id:n[0].id,action:s,value:u}});window.dispatchEvent(w)},h=[{name:"black",hex:"#18181b"},{name:"grey",hex:"#e0e0e0"},{name:"light-violet",hex:"#d8b4fe"},{name:"violet",hex:"#a855f7"},{name:"blue",hex:"#60a5fa"},{name:"light-green",hex:"#4ade80"},{name:"yellow",hex:"#fde047"},{name:"light-red",hex:"#fb7185"},{name:"red",hex:"#dc2626"}],N=[{name:"none",label:"Vazio"},{name:"semi",label:"Semi"},{name:"solid",label:"SÃ³lido"},{name:"pattern",label:"PadrÃ£o"}],f=[{name:"s",label:"P"},{name:"m",label:"M"},{name:"l",label:"G"},{name:"xl",label:"XG"}],k=[{name:"draw",label:"MÃ£o"},{name:"solid",label:"Reto"},{name:"dashed",label:"TraÃ§o"},{name:"dotted",label:"Ponto"}],b=[{name:"draw",label:"Draw"},{name:"sans",label:"Sans"},{name:"serif",label:"Serif"},{name:"mono",label:"Mono"}],I=[{name:"start",icon:e.jsx(S,{})},{name:"middle",icon:e.jsx(R,{})},{name:"end",icon:e.jsx(D,{})},{name:"justify",icon:e.jsx(ke,{})}],m=["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ¤£","ðŸ˜‚","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Š","ðŸ˜‡","ðŸ¥°","ðŸ˜","ðŸ¤©","ðŸ˜˜","ðŸ˜—","ðŸ˜š","ðŸ˜™","ðŸ˜‹","ðŸ˜›","ðŸ˜œ","ðŸ¤ª","ðŸ˜","ðŸ¤‘","ðŸ¤—","ðŸ¤­","ðŸ¤«","ðŸ¤”","ðŸ¤","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ˜","ðŸ˜’","ðŸ™„","ðŸ˜¬","ðŸ¤¥","ðŸ˜Œ","ðŸ˜”","ðŸ˜ª","ðŸ¤¤","ðŸ˜´","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®","ðŸ¤§","ðŸ¥µ","ðŸ¥¶","ðŸ¥´","ðŸ˜µ","ðŸ¤¯","ðŸ¤ ","ðŸ¥³","ðŸ˜Ž","ðŸ¤“","ðŸ§","ðŸ˜•","ðŸ˜Ÿ","ðŸ™","ðŸ˜®","ðŸ˜¯","ðŸ˜²","ðŸ˜³","ðŸ¥º","ðŸ˜¦","ðŸ˜§","ðŸ˜¨","ðŸ˜°","ðŸ˜¥","ðŸ˜¢","ðŸ˜­","ðŸ˜±","ðŸ˜–","ðŸ˜£","ðŸ˜ž","ðŸ˜“","ðŸ˜©","ðŸ˜«","ðŸ¥±","ðŸ˜¤","ðŸ˜¡","ðŸ˜ ","ðŸ¤¬","ðŸ˜ˆ","ðŸ‘¿","ðŸ’€","â˜ ï¸","ðŸ’©","ðŸ¤¡","ðŸ‘¹","ðŸ‘º","ðŸ‘»","ðŸ‘½","ðŸ‘¾","ðŸ¤–","ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ–•","ðŸ‘‡","â˜ï¸","ðŸ‘","ðŸ‘Ž","âœŠ","ðŸ‘Š","ðŸ¤›","ðŸ¤œ","ðŸ‘","ðŸ™Œ","ðŸ‘","ðŸ¤²","ðŸ¤","ðŸ™","âœï¸","ðŸ’…","ðŸ¤³","ðŸ’ª","ðŸ§ ","ðŸ¦´","ðŸ‘€","ðŸ‘ï¸","ðŸ‘„","ðŸ’‹","ðŸ’˜","ðŸ’","ðŸ’–","ðŸ’—","ðŸ’“","ðŸ’ž","ðŸ’•","ðŸ’Ÿ","â£ï¸","ðŸ’”","â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ¤Ž","ðŸ–¤","ðŸ¤","ðŸ’¯","ðŸ’¢","ðŸ’¥","ðŸ’«","ðŸ’¦","ðŸ’¨","ðŸ•³ï¸","ðŸ’£","ðŸ’¬","ðŸ‘ï¸â€ðŸ—¨ï¸","ðŸ—¨ï¸","ðŸ—¯ï¸","ðŸ’­","ðŸ’¤","ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤"],y=(s,u,w)=>{w.preventDefault(),w.stopPropagation(),l?i.setStyleForSelectedShapes(s,u):i.setStyleForNextShapes(s,u)},v={width:"auto",padding:"0 8px",fontSize:"calc(var(--ui-icon-size) * 0.45)",height:"calc(var(--ui-icon-size) + 4px)",minHeight:"24px"};return e.jsx(de,{nodeRef:t,handle:".drag-handle",defaultPosition:{x:50,y:window.innerHeight-450},children:e.jsxs("div",{ref:t,className:"jiuk-ui-panel",style:{position:"absolute",zIndex:400,flexDirection:"column",alignItems:"flex-start",gap:"12px",padding:"12px",minWidth:"260px"},children:[e.jsx("div",{className:"drag-handle",style:{width:"100%",display:"flex",justifyContent:"center",cursor:"grab",paddingBottom:"8px",borderBottom:"1px solid var(--border)",marginBottom:"4px",color:"var(--text-muted)"},children:e.jsx(ue,{})}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start",width:"100%"},children:[e.jsx(pe,{style:{marginTop:6,color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)",height:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[h.map(s=>e.jsx("button",{onPointerDown:u=>{o?(u.preventDefault(),x("color",s.hex)):y(Pe,s.name,u)},title:s.name,style:{width:"calc(var(--ui-icon-size) - 4px)",height:"calc(var(--ui-icon-size) - 4px)",borderRadius:"50%",background:s.hex,border:"2px solid var(--border)",cursor:"pointer",padding:0,transition:"transform 0.1s"}},s.name)),o&&e.jsx("div",{style:{position:"relative",width:"calc(var(--ui-icon-size) - 4px)",height:"calc(var(--ui-icon-size) - 4px)",overflow:"hidden",borderRadius:"50%",border:"2px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",background:"conic-gradient(red, yellow, green, cyan, blue, magenta, red)"},children:e.jsx("input",{type:"color",onChange:s=>x("color",s.target.value),style:{position:"absolute",opacity:0,width:"100%",height:"100%",cursor:"pointer"}})})]})]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(M,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>x("h1"),title:"TÃ­tulo 1",children:e.jsx(xe,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>x("h2"),title:"TÃ­tulo 2",children:e.jsx(he,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>x("bold"),title:"Negrito",children:e.jsx(me,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>x("italic"),title:"ItÃ¡lico",children:e.jsx(ge,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>x("list"),title:"Lista",children:e.jsx(je,{})})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(S,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>x("align","left"),children:e.jsx(S,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>x("align","center"),children:e.jsx(R,{})}),e.jsx("button",{className:"jiuk-icon-btn",onClick:()=>x("align","right"),children:e.jsx(D,{})}),e.jsx("div",{className:"jiuk-separator"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{className:`jiuk-icon-btn ${a?"active":""}`,onClick:()=>c(!a),children:e.jsx(fe,{})}),a&&e.jsx("div",{className:"jiuk-ui-panel",style:{position:"absolute",bottom:"100%",left:"-40px",marginBottom:"8px",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"4px",width:"280px",maxHeight:"260px",overflowY:"auto",zIndex:500,padding:"8px",backgroundColor:"var(--bg-surface)",border:"1px solid var(--border)",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},children:m.map(s=>e.jsx("button",{className:"jiuk-icon-btn",style:{width:"100%",height:"auto",fontSize:"24px",aspectRatio:"1/1"},onClick:()=>{x("emoji",s),c(!1)},children:s},s))})]})]})]})]}),d&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(be,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:N.map(s=>e.jsx("button",{onPointerDown:u=>y(Me,s.name,u),className:"jiuk-icon-btn",style:v,children:s.label},s.name))})]}),C&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(S,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:I.map(s=>e.jsx("button",{onPointerDown:u=>y(Te,s.name,u),className:"jiuk-icon-btn",children:s.icon},s.name))})]}),r&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(B,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:k.map(s=>e.jsx("button",{onPointerDown:u=>y(Ee,s.name,u),className:"jiuk-icon-btn",style:v,children:s.label},s.name))})]}),!o&&l&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(ye,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:f.map(s=>e.jsx("button",{onPointerDown:u=>y(Re,s.name,u),className:"jiuk-icon-btn",style:v,children:s.label},s.name))})]}),p&&e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},children:[e.jsx(M,{style:{color:"var(--text-muted)",flexShrink:0,width:"var(--ui-icon-size)"}}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:b.map(s=>e.jsx("button",{onPointerDown:u=>y(De,s.name,u),className:"jiuk-icon-btn",style:v,children:s.label},s.name))})]})]})})}),Ve=[Oe],Xe={Toolbar:null,MainMenu:null,DebugMenu:null,PageMenu:null,HelpMenu:null,NavigationPanel:null,SharePanel:null,Minimap:null,StylePanel:null,QuickActions:null,ZoomMenu:null},Ze={maxPages:20};class Ke extends H.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("Jiukisidian Crash:",t,a),this.setState({errorInfo:a})}handleHardReset=()=>{localStorage.clear(),sessionStorage.clear(),window.location.reload()};render(){return this.state.hasError?e.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"#09090b",color:"#f4f4f5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"Inter, sans-serif",gap:"24px",zIndex:9999,padding:"20px",textAlign:"center"},children:e.jsxs("div",{style:{maxWidth:"600px",background:"#18181b",padding:"32px",borderRadius:"16px",border:"1px solid #27272a"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:e.jsx(ve,{size:48,color:"#ef4444"})}),e.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"16px",color:"#f4f4f5"},children:"Ocorreu um erro na renderizaÃ§Ã£o"}),e.jsxs("div",{style:{background:"#27272a",padding:"12px",borderRadius:"8px",color:"#fb7185",fontFamily:"monospace",fontSize:"12px",textAlign:"left",marginBottom:"24px",overflowX:"auto",maxHeight:"150px"},children:[this.state.error?.toString()||"Erro desconhecido",e.jsx("br",{}),this.state.errorInfo?.componentStack?.slice(0,200),"..."]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:this.handleHardReset,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#ef4444",border:"none",borderRadius:"6px",color:"white",fontWeight:"600",cursor:"pointer"},children:[e.jsx(U,{size:18})," Reseta Tudo (Hard)"]}),e.jsxs("button",{onClick:()=>window.location.reload(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#3f3f46",border:"none",borderRadius:"6px",color:"white",fontWeight:"600",cursor:"pointer"},children:[e.jsx(we,{size:18})," Recarregar"]})]})]})}):this.props.children}}function Ye(){return e.jsx("div",{style:{position:"fixed",inset:0,overflow:"hidden"},children:e.jsx(Ke,{children:e.jsxs(Le,{persistenceKey:"jiukisidian-v3-debug",shapeUtils:Ve,components:Xe,options:Ze,hideUi:!1,children:[e.jsx(Je,{}),e.jsx(qe,{})]})})})}Se.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Ye,{})}));
